<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="/statics/style.css">
    <link rel=icon href=/images/favicon.ico>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.0/c3.min.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.0/c3.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.5/fuse.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script src='/javascript/vue{{options.minified}}.js'></script>
    <meta http-equiv=X-UA-Compatible content="IE=edge"/>
    <meta name=viewport content="width=device-width,initial-scale=1"/>
    <meta charset="UTF-8"/>
    {% if node.metadata and node.metadata['description'] %}
        <meta name="Description" content="{{node.metadata['description']}}"/>
    {% endif %}
    <title>HI EDB</title>
    
    {% endblock %}
</head>


<script type="text/x-template" id="friction-loss-calculator-template">
	<form>
        <div class='columns'>
            <div class='column'>
                <div class='field'>
                    <label class='label'>Select Material</label>
                    <select  class="input" v-model='material'>
                        <option value=''></option>
                        <option :value='m' v-for='m in materials'>${m}</option>
                    </select>
                </div>
                <div class='field' v-if='sizes && sizes.length'>
                    <label class='label'>Select Nominal Size</label>
                    <select class='input'v-model='nominal_size'>
                        <option value=''></option>
                        <option :value='m' v-for='m in sizes'>${m}in</option>
                    </select>
                </div>
                <div class='field' v-if='schedules && schedules.length'>
                    <label class='label'>Select Schedule</label>
                    <select class='input'v-model='schedule'>
                        <option value=''></option>
                        <option :value='m' v-for='m in schedules'>${m}</option>
                    </select>
                </div>
                <div v-if='entry'>
                    <div class='field'>
                        <label class='label'>Nominal Outside Diameter</label>
                        <span> ${entry[3]}in</span>
                    </div>
                    <div class='field'>
                        <label class='label'>Inside Diamenter</label>
                        <span> ${entry[5]}in</span>
                    </div>
                    <div class='field'>
                        <label class='label'>Rougness Parameter (epsilon) (ft)</label>
                        <span> ${entry[6]}</span>
                    </div>
                </div>
            </div>
        
            <div class='column'>
            <div v-if='entry'>
                <div class='field'>
                    <label class='label' >Flow Rate (gpm)</label>
                    <input class='input' type='number' step='0.00001' v-model='flow'/>
                </div>
                <div class='field'>
                    <label class='label' >Pipe Length (ft)</label>
                    <input class='input' type='number' step='0.00001' v-model='length'/>
                </div>
                <div class='field'>
                    <label class='label' >Kinematic Viscosity</label>
                    <input class='input' type='number' step='0.00001' v-model='viscosity'/>
                </div>

           </div>
         </div>
        </div>
         <div v-if='entry && results.length'>
            <table>
                <thead>
                    <tr>
                        <th>Flow Rate</th>
                        <th>Average Velocity</th>
                        <th>Reynolds</th>
                        <th>Laminar</th>
                        <th>Friction Loss</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for='sample in results'>
                        <td>${sample.flow}</td>
                        <td>${sample.velocity}</td>
                        <td>${sample.reynolds}</td>
                        <td>
                            <span v-if='sample.laminar'>Laminar</span>
                            <span v-else>Non-Laminar</span>
                        </td>
                        <td>
                            <span>${sample.friction_loss}</span>
                        </td>
                    </tr>
                </tbody>
            </table>
         </div>

    </form>
</script>

<body class="has-navbar-fixed-top">

    <div id='vue'>
        <nav id='main-nav' class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a class="navbar-item" href="/">
                    <img alt='Hydraulic Instituted' src="/images/logo.png" width="30">
                    <h2> Engineering Data Book</h2>
                </a>

                <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>

            <div id="navbarBasicExample" class="navbar-menu">
                <div class="navbar-start">
                
                </div>

                <div class="navbar-end">
                    <div class="columns">
                    
                         <div class="navbar-item pad-horizontal">
                          <div class='buttons'>
                                <a class='button is-info' title='Download PDF' target='_blank' href='./statics/edb.pdf'>PDF</a>
                            </div>
                            </div>
                        <div class="navbar-item pad-horizontal">
                           
                            <div id="units-toggle" class="buttons">
                                <button v-if='unit_set=="us"' class='button is-warning is-outlined' title='Click to change to metric units' @click='to_metric'>US</button>
                                <button v-else class='button is-warning' @click='to_us' title='Click to change to U.S. customary units'>Metric</button>
                            </div>
                        </div>
                        <div class="navbar-item pad-horizontal is-hidden-desktop">
                            <div>
                                <div class='field has-addons'>
                                    <div class='control'>
                                        <input v-model='needle' class="input" type="text" placeholder="Search"/>
                                    </div>
                                    <div v-if='needle' class='control'>
                                        <a class='button is-info' @click='needle=""'> &times; </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <aside class='sidebar navbar-item column is-hidden-desktop'>
                            <ul class='search-results' v-if='search_display'>
                                <li class="menu-list" v-if='!search_results.length'>
                                    <span class="menu-label">Nothing match was found</span>
                                </li>
                                <li class="menu-list" v-if='search_results.length'>
                                    <span class="menu-label">${search_results.length} matches</span>
                                </li>
                                <li class="menu-list" v-if='search_results.length' v-for='topic in results_for_display'>
                                    <a :href="topic.path+'.html'">${topic.title}</a>
                                </li>
                            </ul>
                            <ul v-else data-section="{{section}}" data-topic="{{topic}}">
                                {% for section in sections|sort(attribute='sort') %} 
                                    <li>
                                        <label class="menu-label">{{section['metadata']['title']}}</label>
                                        <ul>
                                            {% for topic in section['children']|sort(attribute='sort') %}
                                                {% if topic['metadata']['title']%}
                                                <li class="menu-list">
                                                    <a href="/{{ section['slug'] }}/{{ topic['slug'] }}.html">{{topic['metadata']['title']}}</a>
                                                </li>
                                                {% endif %}
                                            {% endfor %}
                                        </ul>
                                    </li>
                                {% endfor %}
                            </ul>
                        </aside>
                </div>
            </div>
        </nav>
        <div class="page columns is-fullheight">
           <div id='sidebar' class="sidebar column is-narrow is-hidden-touch">
                <aside id="navigation" class="menu">
                    <div>
                        <div class='field has-addons'>
                            <div class='control'>
                                <input v-model='needle' class="input" type="text" placeholder="Search"/>
                            </div>
                            <div v-if='needle' class='control'>
                                <a class='button is-info' @click='needle=""'> &times; </a>
                            </div>
                        
                    </div>
                    <ul class='search-results' v-if='search_display'>
                        <li class="menu-list" v-if='!search_results.length'>
                            <span class="menu-label">Nothing match was found</span>
                        </li>
                        <li class="menu-list" v-if='search_results.length'>
                            <span class="menu-label">${search_results.length} matches</span>
                        </li>
                        <li class="menu-list" v-if='search_results.length' v-for='topic in results_for_display'>
                            <a :href="topic.path+'.html'">${topic.title}</a>
                        </li>
                    </ul>
                    <ul class='topic-list' v-else data-section="{{section}}" data-topic="{{topic}}">
                        {% for section in sections|sort(attribute='sort') %} 
                            <li>
                                <label class="menu-label">{{section['metadata']['title']}}</label>
                                <ul>
                                    {% for topic in section['children']|sort(attribute='sort') %}
                                        {% if topic['metadata']['title']%}
                                            <li class="menu-list">
                                                {% if node['path']== topic['path'] and node['slug']== topic['slug'] %}
                                                    <a class='is-active' href="/{{ section['slug'] }}/{{ topic['slug'] }}.html">{{topic['metadata']['title']}}</a>
                                                {% else %}
                                                    <a href="/{{ section['slug'] }}/{{ topic['slug'] }}.html">{{topic['metadata']['title']}}</a>
                                                {% endif %}
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </li>
                        {% endfor %}
                    </ul>
                </aside>
            </div>
            
            <div id="content" class="column content">
                
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>
    <script src='/javascript/edb.js'></script>
    <script>
        MathJax.Hub.Queue(
            function () {
                var formulas = document.getElementsByClassName('formula');
                for (var i = 0; i < formulas.length; ++i) {
                    var item = formulas[i];  
                    item.style.visibility = 'visible';
                }
            }
        );
    </script>

</body>
</html>