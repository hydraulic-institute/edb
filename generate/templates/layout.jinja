<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="/statics/style.css">
    <link rel=icon href=/images/favicon.ico>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.0/c3.min.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.0/c3.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.5/fuse.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.es6.min.js"></script>
    <script src='/javascript/vue{{options.minified}}.js'></script>
    <meta http-equiv=X-UA-Compatible content="IE=edge"/>
    <meta name=viewport content="width=device-width,initial-scale=1"/>
    <meta charset="UTF-8"/>
    {% if node.metadata and node.metadata['description'] %}
        <meta name="Description" content="{{node.metadata['description']}}"/>
    {% endif %}
    <title>HI EDB</title>
    
    {% endblock %}
</head>

<script type="text/x-template" id="converter-template">
    <form>
        <div class='columns'>
            <div class='column'>
                <nav class="panel">
                    <p class="panel-heading" style='margin-bottom:0px'>Measures </p>
                    <a :class='{isActive: u == unit}' v-for='u in units' class='panel-block' @click='unit = u'>
                        <span class='panel-icon'>
                            <img :src='"/images/"+u.image'/>
                        </span>
                        <span>${u.measure}</span>
                    </a>
                </nav>
            </div>
            <div class='column'>
                <nav class="panel" v-if='unit'>
                    <p class="panel-heading" style='margin-bottom:0px'>${unit.measure}</p>
                    <div class='panel-block'>
                        <div class='field'>
                            <label class='label'>From</label>
                            <div class='columns'>
                                <div class='column'>
                                    <input class='input' v-model='from'/>
                                </div>
                                <div class='column'>
                                    <select  class="input" v-model='unit_from'>
                                        <option :value='u' v-for='u in unit.units' v-html='u.label'></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                      </div>
                    <div class='panel-block'>
                        <div class='field'>
                            <label class='label'>To</label>
                            <div class='columns'>
                                <div class='column'>
                                    <input class='input' v-model='to' readonly disabled/>
                                </div>
                                <div class='column'>
                                    <select  class="input" v-model='unit_to'>
                                        <option :value='u' v-for='u in unit.units' v-html='u.label'></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </form>
</script>

<script type="text/x-template" id="friction-loss-calculator-template">
	<form>
        <div class='columns'>
            <div class='column'>
                <div class='field'>
                    <label class='label'>Select Material</label>
                    <select  class="input" v-model='material'>
                        <option value=''></option>
                        <option :value='m' v-for='m in materials'>${m}</option>
                    </select>
                </div>
                <div class='field' v-if='sizes && sizes.length'>
                    <label class='label'>Select Nominal Size</label>
                    <select class='input'v-model='nominal_size'>
                        <option value=''></option>
                        <option :value='m' v-for='m in sizes'>${m}in</option>
                    </select>
                </div>
                <div class='field' v-if='schedules && schedules.length'>
                    <label class='label'>Select Schedule</label>
                    <select class='input'v-model='schedule'>
                        <option value=''></option>
                        <option :value='m' v-for='m in schedules'>${m}</option>
                    </select>
                </div>
                <hr/>
                <div v-if='entry'>
                    <div class='field'>
                        <label class='label'>Nominal Outside Diameter (in)</label>
                        <span> ${entry[3]}</span>
                    </div>
                    <div class='field'>
                        <label class='label'>Inside Diameter (in)</label>
                        <span> ${entry[5]}</span>
                    </div>
                    <div class='field'>
                        <label class='label'>Rougness Parameter (epsilon) (ft)</label>
                        <span> ${entry[6]}</span>
                    </div>
                </div>
            </div>
        
            <div class='column'>
            <div v-if='entry'>
                <div class='field'>
                    <label class='label' >Flow Rate (gpm)</label>
                    <input class='input' type='number' step='0.01' v-model='flow'/>
                </div>
                <div class='field'>
                    <label class='label' >Pipe Length (ft)</label>
                    <input class='input' type='number' step='0.01' v-model='length'/>
                </div>
                <hr/>
                <div class='field'>
                    <label class='label' >Viscosity</label>
                    <div class='control'>
                        
                        <label class='radio'>
                            <input type='radio' name = 'viscosity_mode' value='kinematic' v-model='vka'/>
                            Kinematic
                        </label>
                        <label class='radio'>
                            <input type='radio' name = 'viscosity_mode' value='absolute' v-model='vka'/>
                            Dynamic (absolute)
                        </label>
                    </div>
                </div>
                <div class='field' v-if='vka == "absolute"'>
                    <label class='label'>Dynamic (absolute) Viscosity (cP)</label>
                    <input class='input' type='number' step='0.01' v-model='viscosity'/>
                </div>
                <div class='field' v-else>
                    <label class='label'>Kinematic Viscosity (cSt)</label>
                    <input class='input' type='number' step='0.01' v-model='viscosity'/>
                </div>
                <div class='field'>
                    <label class='label'>Specific Gravity</label>
                    <input class='input' type='number' step='0.01' v-model='sg'/>
                </div>
           </div>
         </div>
         <hr/>
        </div>
         <div v-if='entry && results_revision.length'>
            <table>
                <thead>
                    <tr>
                        <th>Flowrate</th>
                        <th>Fluid Velocity</th>
                        <th>Velocity Head</th>
                        <th>Reynolds number</th>
                        <th>Flow Regime</th>
                        <th>Friction Factor</th>
                        <th>Head Loss</th>
                    </tr>
                     <tr>
                        <th>(gpm)</th>
                        <th>(ft/sec)</th>
                        <th>(ft)</th>
                        <th></th>
                        <th></th>
                        <th>f</th>
                        <th>h<sub>f</sub></th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for='sample in results_revision' :class="{reference_flow: sample.reference}">
                        <td><unit-value :value="sample.flow"/></td>
                        <td><unit-value :value="sample.velocity"/></td>
                        <td><unit-value :value="sample.velocity * sample.velocity / (2 * 32.17)"/></td>
                        <td><unit-value :value="sample.reynolds"/></td>
                        <td>
                            <span v-if='sample.laminar'>Laminar</span>
                            <span v-else>Turbulent</span>
                        </td>
                        <td>
                            <span><unit-value :value="sample.friction_loss"/></span>
                        </td>
                        <td>
                            <span><unit-value :value="sample.head_loss"/></span>
                        </td>
                    </tr>
                </tbody>
            </table>
         </div>

    </form>
</script>

<body class="has-navbar-fixed-top">

    <div id='vue'>
        <nav id='main-nav' class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a class="navbar-item" href="/">
                    <img alt='Hydraulic Instituted' src="/images/logo.png" width="30">
                    <h2> Engineering Data Book</h2>
                </a>

                <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>

            <div id="navbarBasicExample" class="navbar-menu">
                <div class="navbar-start">
                
                </div>

                <div class="navbar-end">
                    <div class="columns">
                    
                         <div class="navbar-item pad-horizontal">
                          <div class='buttons'>
                                <a class='button is-info' title='Download PDF' target='_blank' href='./statics/edb.pdf'>PDF</a>
                            </div>
                            </div>
                        <div class="navbar-item pad-horizontal">
                            {% if not node or not node['metadata']['hide_units'] %} 
                            <div id="units-toggle" class="buttons">
                                <button v-if='unit_set=="us"' class='button is-warning is-outlined' title='Click to change to metric units' @click='to_metric'>US</button>
                                <button v-else class='button is-warning' @click='to_us' title='Click to change to U.S. customary units'>Metric</button>
                            </div>                                
                            {%endif%}
                        </div>
                        <div class="navbar-item pad-horizontal is-hidden-desktop">
                            <div>
                                <div class='field has-addons'>
                                    <div class='control'>
                                        <input v-model='needle' class="input" type="text" placeholder="Search"/>
                                    </div>
                                    <div v-if='needle' class='control'>
                                        <a class='button is-info' @click='needle=""'> &times; </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <aside class='sidebar navbar-item column is-hidden-desktop'>
                            <div v-if='marks && marks.length'>
                                <p class="menu-label">${mark_index+1} of ${marks.length} matches in current topic</p>
                                <div class='buttons'>
                                    <span class="menu-label">Navigate current topics
                                    <button class='button is-info' :disabled='mark_index <= 0' v-on:click='mark_jump_back'>&lt;</button>
                                    <button class='button is-info' :disabled='mark_index >= marks.length-1' v-on:click='mark_jump_next'>&gt;</button>
                                </div>
                            </div>
                            <ul class='search-results' v-if='search_display'>
                                <li class="menu-list" v-if='!search_results.length'>
                                    <span class="menu-label">Nothing match was found</span>
                                </li>
                                <li class="menu-list" v-if='search_results.length'>
                                    <span class="menu-label">${search_results.length} topic matches</span>
                                </li>
                                <li class="menu-list" v-if='search_results.length' v-for='topic in results_for_display'>
                                    <a :href="topic.path+'.html'">${topic.title}</a>
                                </li>
                            </ul>
                            
                            <ul v-else data-section="{{section}}" data-topic="{{topic}}">
                                {% for section in sections|sort(attribute='sort') %} 
                                    <li>
                                        <label class="menu-label">{{section['metadata']['title']}}</label>
                                        <ul>
                                            {% for topic in section['children']|sort(attribute='sort') %}
                                                {% if topic['metadata']['title']%}
                                                <li class="menu-list">
                                                    <a href="/{{ section['slug'] }}/{{ topic['slug'] }}.html">{{topic['metadata']['title']}}</a>
                                                </li>
                                                {% endif %}
                                            {% endfor %}
                                        </ul>
                                    </li>
                                {% endfor %}
                            </ul>
                        </aside>
                </div>
            </div>
        </nav>
        <div class="page columns is-fullheight">
           <div id='sidebar' class="sidebar column is-narrow is-hidden-touch">
                <aside id="navigation" class="menu">
                    <div>
                        <div class='field has-addons'>
                            <div class='control'>
                                <input v-model='needle' class="input" type="text" placeholder="Search"/>
                            </div>
                            <div v-if='needle' class='control'>
                                <a class='button is-info' @click='needle=""'> &times; </a>
                            </div>
                        
                    </div>
                    <div v-if='marks && marks.length'>
                        <p class="menu-label">${mark_index+1} of ${marks.length} matches in current topic</p>
                        <div class='buttons'>
                            <span class="menu-label">Navigate current topics
                            <button class='button is-info' :disabled='mark_index <= 0' v-on:click='mark_jump_back'>&lt;</button>
                            <button class='button is-info' :disabled='mark_index >= marks.length-1' v-on:click='mark_jump_next'>&gt;</button>
                        </div>
                    </div>
                    <ul class='search-results' v-if='search_display'>
                        <li class="menu-list" v-if='!search_results.length'>
                            <span class="menu-label">Nothing match was found</span>
                        </li>
                        <li class="menu-list" v-if='search_results.length'>
                            <span class="menu-label">${search_results.length} topic matches</span>
                        </li>
                        <li class="menu-list" v-if='search_results.length' v-for='topic in results_for_display'>
                            <a :href="topic.path+'.html'">${topic.title}</a>
                        </li>
                    </ul>
                    
                    <ul class='topic-list' v-else data-section="{{section}}" data-topic="{{topic}}">
                        {% for section in sections|sort(attribute='sort') %} 
                            <li>
                                <label class="menu-label">{{section['metadata']['title']}}</label>
                                <ul>
                                    {% for topic in section['children']|sort(attribute='sort') %}
                                        {% if topic['metadata']['title']%}
                                            <li class="menu-list">
                                                {% if node['path']== topic['path'] and node['slug']== topic['slug'] %}
                                                    <a class='is-active' href="/{{ section['slug'] }}/{{ topic['slug'] }}.html">{{topic['metadata']['title']}}</a>
                                                {% else %}
                                                    <a href="/{{ section['slug'] }}/{{ topic['slug'] }}.html">{{topic['metadata']['title']}}</a>
                                                {% endif %}
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </li>
                        {% endfor %}
                    </ul>
                </aside>
            </div>
            
            <div id="content" class="column content">
               
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>
    <script src='/javascript/edb.js'></script>
    <script>
        MathJax.Hub.Queue(
            function () {
                var formulas = document.getElementsByClassName('formula');
                for (var i = 0; i < formulas.length; ++i) {
                    var item = formulas[i];  
                    item.style.visibility = 'visible';
                }
            }
        );
    </script>

</body>
</html>